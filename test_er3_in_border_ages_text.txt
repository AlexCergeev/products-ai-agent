ТЗ_КредитныйПотенциал.md`
 
```markdown
# Техническое задание: Система одобрения потребительского кредита и расчета кредитного потенциала
 
---
 
## 1. Общие требования
- **Цель**: Автоматизация оценки кредитного потенциала клиента и принятия решений по потребительским кредитам.
- **Целевая аудитория**: Банки, кредитные организации.
- **Ограничения**:
 - Максимальный срок кредита: 5 лет.
 - Минимальная сумма: 50 000 RUB, максимальная: 5 000 000 RUB.
 - Поддержка клиентов возрастом 21-65 лет.
- **Производительность**:
 - Обработка до 15 000 запросов/час.
 - Время отклика ≤ 800 мс при 95-й перцентили.
 - Расчет нагрузки:
   ```
   L = (15 000 / 3600) * 0.8 ≈ 3.33 параллельных запросов.
   ```
 
---
 
## 2. Основные функции
### 2.1. Проверка базовых условий
- **Критерии отказа**:
 - Возраст < 21 или > 65 лет.
 - Кредитный рейтинг < 450.
 - Стаж на текущем месте работы < 6 месяцев.
 
### 2.2. Расчет кредитного потенциала
- **Формула**:
 ```
 Потенциал = (Месячный доход * 0.4 - Текущие платежи) * Срок кредита (в месяцах)
 ```
 - Коэффициент 0.4: максимальная доля дохода на выплаты.
 - Если потенциал < 0 → автоматический отказ.
 
### 2.3. Логика одобрения
- **Условия одобрения**:
 - Потенциал ≥ Запрошенная сумма.
 - Отсутствие просрочек за последние 12 месяцев.
 - Наличие залога (опционально, снижает риск).
 
### 2.4. Расчет ставки
- **Базовая ставка**: 12% годовых.
 - Корректировки:
   - +2% при кредитном рейтинге 450-600.
   - -1% при наличии залога.
   - +3% при сроке > 3 лет.
 
---
 
## 3. Технические требования
- **Стек**:
 - Python: FastAPI, Pydantic, SQLite.
 - Go: Gin, GORM, PostgreSQL.
- **Безопасность**:
 - Валидация входных данных (регулярки для ИНН/паспорта).
 - Шифрование PII-данных (AES-256-GCM).
- **Интеграции**:
 - Подключение к НБКИ для проверки кредитной истории.
 
---
 
## 4. Тестирование
- **Юнит-тесты**:
 - Проверка формулы потенциала: доход 100 000 RUB, платежи 20 000 RUB, срок 36 мес → потенциал = (100000*0.4 - 20000)*36 = 720 000 RUB.
 - Проверка отказа при возрасте 20 лет.
- **Нагрузочные тесты**:
 - 500 параллельных запросов с валидными данными.
 
---
 
## 5. Критерии успеха
1. Точность расчетов: 99.9%.
2. Соответствие требованиям ЦБ РФ.
3. Интеграция с внешними системами ≤ 2 недель.